{% extends 'base.html' %}

{% block content %}
<h2>Pending Items</h2>

<div class="grid">
  {% for item in items %}
    <div class="card">
      {% if item.image %}
        <img src="{{ url_for('static', filename='uploads/' + item.image) }}" alt="{{ item.title }}">
      {% endif %}

      <h3>{{ item.title }}</h3>

      {% if item.status %}
        <span class="badge" style="
          display: inline-block;
          padding: 4px 10px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 500;
          {% if item.status.lower() == 'lost' %}background:#f44336;color:#fff;
          {% elif item.status.lower() == 'found' %}background:#4caf50;color:#fff;
          {% endif %}
        ">
          {{ item.status }}
        </span>
      {% endif %}

      <p class="muted">Posted on: {{ item.created_at|formatdatetime }}</p>

      <div style="margin-top: 10px;">
        <a class="btn" href="{{ url_for('approve', item_id=item.id) }}">Approve</a>
        <form action="{{ url_for('admin_delete_item', item_id=item.id) }}" method="post" style="display:inline;">
          <button class="btn danger" type="submit" onclick="return confirm('Are you sure you want to delete this item?');">Delete</button>
        </form>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}

