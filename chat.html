{% extends "base.html" %}
{% block content %}
<h2 style="text-align:center;">Lost & Found Chatbot</h2>
<div class="chat-container" style="max-width:400px; margin:40px auto;">
    <div id="chatBox" style="border:1px solid #ccc; padding:10px; height:300px; overflow-y:auto; background:#f9f9f9;"></div>
    <input id="chatInput" type="text" placeholder="Type a message..." style="width:80%; padding:8px;">
    <button onclick="sendMessage()" style="padding:8px;">Send</button>
</div>

<script>
async function sendMessage() {
    const input = document.getElementById('chatInput');
    const chatBox = document.getElementById('chatBox');
    const msg = input.value;
    if(!msg) return;
    chatBox.innerHTML += `<p><strong>You:</strong> ${msg}</p>`;
    input.value = '';
    const res = await fetch('/chatbot', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({message: msg})
    });
    const data = await res.json();
    chatBox.innerHTML += `<p><strong>Bot:</strong> ${data.reply}</p>`;
    chatBox.scrollTop = chatBox.scrollHeight;
}
</script>
{% endblock %}

